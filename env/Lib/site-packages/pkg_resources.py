"""
Tiny shim to provide minimal `pkg_resources` API required by packages
that import `get_distribution` and `DistributionNotFound`.

This uses importlib.metadata under the hood and only implements what
`rest_framework_simplejwt` needs (a distribution object with `.version`).
"""
from importlib.metadata import version, PackageNotFoundError


class DistributionNotFound(Exception):
    pass


def get_distribution(name):
    try:
        v = version(name)
        class Dist:
            def __init__(self, v):
                self.version = v
        return Dist(v)
    except PackageNotFoundError as e:
        raise DistributionNotFound(name) from e
